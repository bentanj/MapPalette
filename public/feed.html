<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MapPalette Homepage</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <style>
        body {
            padding-top: 76px; /* Adjust this value based on your navbar height */
        }
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1030;
        }

        .navbar-brand {
            /*controls brand name size in navbar*/
            font-size: 1.5rem;
        }

        .nav-link {
            /*controls font size and margin of nav links*/
            font-size: 1.2rem;
            margin-left: 20px;
        }

        .navbar .rounded-circle {
            /*profile pic sizing*/
            width: 50px;
            height: 50px;
            object-fit: cover;
        }

        .navbar-brand img {
            /*brand logo sizing*/
            width: 30px;
            height: 30px;
            margin-right: 8px;
        }

        .side-column {
            position: sticky;
            top: 96px; /* 76px for navbar + 20px padding */
            height: calc(100vh - 96px);
            overflow-y: auto;
        }

        .content {
            margin-top: 20px;

        }
        @media (max-width: 991px) {
            .profile-pic {
                margin-left: auto;
            }
            .side-column {
                position: static;
                height: auto;
            }
        }
        
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="#"><img src="mappalettelogo.png" alt="MapPalette Logo">MapPalette</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a class="nav-link" href="#">Feed</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Routes</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Draw</a>
              </li>
              <!--Profile picture with dropdown-->
              <li class="nav-item dropdown d-flex align-items-center ms-3">
                <a class="nav-link dropdown-toggle p-0" href="#" id="profileDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <img src="download.jpeg" alt="Profile" class="rounded-circle" width="32" height="32">
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                  <li><a class="dropdown-item" href="#">Your Profile</a></li>
                  <li><a class="dropdown-item" href="#">Settings</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#">Log Out</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2 side-column">
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">Friend List</h5>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">Alice</li>
                            <li class="list-group-item">Bob</li>
                            <li class="list-group-item">Charlie</li>
                            <li class="list-group-item">David</li>
                            <li class="list-group-item">Emma</li>
                        </ul>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Upcoming Events</h5>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">City Marathon - Next Sunday</li>
                            <li class="list-group-item">Group Hike - Saturday, 8 AM</li>
                            <li class="list-group-item">Cycling Tour - Next Month</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-1 spacing">
            </div>
            <div class="col-md-6 content">
                <div id="activity-feed"></div>
            </div>
            <div class="col-md-1 spacing">
            </div>
            <div class="col-md-2 side-column">
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">Recent Activities</h5>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">Morning Run - 5km</li>
                            <li class="list-group-item">Cycling Trip - 20km</li>
                            <li class="list-group-item">Hiking Adventure - 3hrs</li>
                            <li class="list-group-item">Evening Walk - 2km</li>
                            <li class="list-group-item">Weekend Jog - 7km</li>
                        </ul>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Your Stats</h5>
                        <p class="card-text">Total Distance: 120km</p>
                        <p class="card-text">Activities This Week: 7</p>
                        <p class="card-text">Average Pace: 5:30 /km</p>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>

    <script>
        // The JavaScript for creating activity cards remains the same as in the previous version
        const activityFeed = document.getElementById('activity-feed');

        const activities = [
            {
                user: "Wei Shen",
                userImg: 'logo.png',
                date: "30 September 2024 at 21:33",
                location: "Central",
                title: "Night Run",
                distance: "6.05 km",
                description: "-placeholder-",
                time: "30m 3s",
                mapImg: "map1.png"
            },
            {
                user: "Potato",
                userImg: 'logo.png',
                date: "29 September 2024 at 21:33",
                location: "Central",
                title: "Evening Run",
                description: "-placeholder-",
                distance: "2.40 km",
                time: "10m 15s",
                mapImg: "map2.png"
            }
        ];

        function createActivityCard(activity) {
            const card = document.createElement('div');
            card.className = 'card mb-4 overflow-hidden';
            card.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';
            card.style.cursor = 'pointer'; // Add cursor style to indicate clickability

            // Make the entire card clickable
            card.addEventListener('click', function() {
                const modal = new bootstrap.Modal(document.getElementById(`commentModal${activity.id}`));
                modal.show();
            });

            // Card header with user name and date
            const cardHeader = document.createElement('div');
            cardHeader.className = 'card-header bg-white border-0 py-3';
            card.appendChild(cardHeader);

            const userInfo = document.createElement('div');
            userInfo.className = 'd-flex justify-content-between align-items-center';
            cardHeader.appendChild(userInfo);

            // User profile photo and name container
            const userProfileContainer = document.createElement('div');
            userProfileContainer.className = 'd-flex align-items-center';
            userInfo.appendChild(userProfileContainer);

            // User profile photo
            const userProfilePhoto = document.createElement('img');
            userProfilePhoto.src = activity.userImg;
            userProfilePhoto.alt = `${activity.user}'s profile photo`;
            userProfilePhoto.className = 'rounded-circle me-2';
            userProfilePhoto.style.width = '40px';
            userProfilePhoto.style.height = '40px';
            userProfilePhoto.style.objectFit = 'cover';
            userProfileContainer.appendChild(userProfilePhoto);

            // User name
            const userName = document.createElement('h5');
            userName.className = 'mb-0';
            userName.textContent = activity.user;
            userProfileContainer.appendChild(userName);

            const date = document.createElement('small');
            date.className = 'text-muted';
            date.textContent = activity.date;
            userInfo.appendChild(date);

            // Image container
            const imageContainer = document.createElement('div');
            imageContainer.className = 'position-relative';
            card.appendChild(imageContainer);

            // Image
            if (activity.mapImg) {
                const img = document.createElement('img');
                img.src = activity.mapImg;
                img.className = 'card-img-top';
                img.alt = 'Activity Map';
                img.style.height = '300px'; // Increased height for more space
                img.style.objectFit = 'cover';
                imageContainer.appendChild(img);
            }

            // Overlay with activity title and location
            const overlay = document.createElement('div');
            overlay.className = 'position-absolute bottom-0 start-0 w-100 p-3';
            overlay.style.background = 'linear-gradient(to top, rgba(0,0,0,0.7), rgba(0,0,0,0))';
            imageContainer.appendChild(overlay);

            const activityTitle = document.createElement('h5');
            activityTitle.className = 'text-white mb-0';
            activityTitle.textContent = activity.title;
            overlay.appendChild(activityTitle);

            const location = document.createElement('small');
            location.className = 'text-white-50';
            location.textContent = activity.location;
            overlay.appendChild(location);

            // Card body
            const cardBody = document.createElement('div');
            cardBody.className = 'card-body';
            card.appendChild(cardBody);

            // Activity stats
            const stats = document.createElement('div');
            stats.className = 'd-flex justify-content-between text-center mb-3';
            cardBody.appendChild(stats);

            const createStat = (label, value) => {
                const stat = document.createElement('div');
                const statValue = document.createElement('h6');
                statValue.className = 'mb-0 fw-bold';
                statValue.textContent = value;
                const statLabel = document.createElement('small');
                statLabel.className = 'text-muted';
                statLabel.textContent = label;
                stat.appendChild(statValue);
                stat.appendChild(statLabel);
                return stat;
            };

            stats.appendChild(createStat('Distance', activity.distance));
            stats.appendChild(createStat('Time', activity.time));

            // Description
            if (activity.description) {
                const description = document.createElement('p');
                description.className = 'card-text';
                description.textContent = activity.description;
                cardBody.appendChild(description);
            }

            // Button container
            const buttonContainer = document.createElement('div');
            buttonContainer.className = 'd-flex justify-content-between align-items-center mt-3';
            cardBody.appendChild(buttonContainer);

            // Thumbs up button
            const thumbsUpBtn = document.createElement('button');
            thumbsUpBtn.className = 'btn btn-outline-primary btn-sm';
            thumbsUpBtn.innerHTML = '<i class="bi bi-hand-thumbs-up"></i> Like';
            thumbsUpBtn.addEventListener('click', function(event) {
                event.stopPropagation(); // Prevent the card click event from firing
                console.log('Thumbs up clicked for:', activity.title);
                // Add your thumbs up logic here
            });
            buttonContainer.appendChild(thumbsUpBtn);

            // Comment button
            const commentBtn = document.createElement('button');
            commentBtn.className = 'btn btn-outline-secondary btn-sm';
            commentBtn.setAttribute('data-bs-toggle', 'modal');
            commentBtn.setAttribute('data-bs-target', `#commentModal${activity.id}`);

            const icon = document.createElement('i');
            icon.className = 'bi bi-chat';

            const textNode = document.createTextNode(' Comment');

            commentBtn.appendChild(icon);
            commentBtn.appendChild(textNode);

            buttonContainer.appendChild(commentBtn);

            return card;
        }

        function createCommentModal(activity) {
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.id = `commentModal${activity.id}`;
            modal.tabIndex = '-1';
            modal.setAttribute('aria-labelledby', `commentModalLabel${activity.id}`);
            modal.setAttribute('aria-hidden', 'true');

            const modalDialog = document.createElement('div');
            modalDialog.className = 'modal-dialog modal-lg';
            modal.appendChild(modalDialog);

            const modalContent = document.createElement('div');
            modalContent.className = 'modal-content';
            modalDialog.appendChild(modalContent);

            // Modal Header
            const modalHeader = document.createElement('div');
            modalHeader.className = 'modal-header flex-column align-items-start';
            modalContent.appendChild(modalHeader);

            const titleDiv = document.createElement('div');
            titleDiv.className = 'w-100 d-flex justify-content-between align-items-center mb-1';
            modalHeader.appendChild(titleDiv);

            const modalTitle = document.createElement('h5');
            modalTitle.className = 'modal-title mb-0';
            modalTitle.id = `commentModalLabel${activity.id}`;
            modalTitle.textContent = activity.title;
            titleDiv.appendChild(modalTitle);

            const closeButton = document.createElement('button');
            closeButton.type = 'button';
            closeButton.className = 'btn-close';
            closeButton.setAttribute('data-bs-dismiss', 'modal');
            closeButton.setAttribute('aria-label', 'Close');
            titleDiv.appendChild(closeButton);

            const userNameHeader = document.createElement('p');
            userNameHeader.className = 'mb-0 text-muted';
            userNameHeader.style.fontSize = '0.9rem';
            userNameHeader.textContent = `by ${activity.user}`;
            modalHeader.appendChild(userNameHeader);

            // Modal Body
            const modalBody = document.createElement('div');
            modalBody.className = 'modal-body';
            modalContent.appendChild(modalBody);

            // Image Section
            const imageContainer = document.createElement('div');
            imageContainer.style.width = '100%';
            imageContainer.style.height = '300px';
            imageContainer.style.backgroundColor = '#e9ecef';
            imageContainer.style.borderRadius = '8px';
            imageContainer.style.marginBottom = '15px';
            imageContainer.style.display = 'flex';
            imageContainer.style.justifyContent = 'center';
            imageContainer.style.alignItems = 'center';
            modalBody.appendChild(imageContainer);

            if (activity.mapImg) {
                const mapImage = document.createElement('img');
                mapImage.src = activity.mapImg;
                mapImage.alt = 'Activity Map';
                mapImage.style.width = '100%';
                mapImage.style.height = '100%';
                mapImage.style.objectFit = 'cover';
                mapImage.style.borderRadius = '8px';
                imageContainer.appendChild(mapImage);
            }

            // Activity details
            const details = document.createElement('p');
            details.className = 'text-muted';
            details.textContent = `${activity.date} | 0 Likes`; // Assuming no likes initially
            modalBody.appendChild(details);

            const distance = document.createElement('p');
            distance.innerHTML = `<strong>Distance:</strong> ${activity.distance}`;
            modalBody.appendChild(distance);

            const description = document.createElement('p');
            description.innerHTML = `<strong>Description:</strong> ${activity.description}`;
            modalBody.appendChild(description);

            // Like, Comment, Share Links
            const actionLinks = document.createElement('div');
            actionLinks.className = 'd-flex justify-content-around border-top border-bottom py-2';
            modalBody.appendChild(actionLinks);

            const createActionLink = (icon, text) => {
                const link = document.createElement('a');
                link.href = '#';
                link.className = 'd-flex align-items-center text-decoration-none text-dark';
                link.innerHTML = `<i class="bi bi-${icon} me-2"></i> <span>${text}</span>`;
                return link;
            };

            actionLinks.appendChild(createActionLink('hand-thumbs-up', 'Like'));
            actionLinks.appendChild(createActionLink('chat', 'Comment'));
            actionLinks.appendChild(createActionLink('share', 'Share'));

            // Add a horizontal rule
            const horizontalRule = document.createElement('hr');
            horizontalRule.className = 'my-3'; // Add some margin to the top and bottom
            modalBody.appendChild(horizontalRule);

            // Comments section
            const commentsHeader = document.createElement('h6');
            commentsHeader.textContent = 'Comments';
            modalBody.appendChild(commentsHeader);

            const commentInput = document.createElement('textarea');
            commentInput.className = 'form-control mb-3';
            commentInput.rows = '2';
            commentInput.placeholder = 'Add a comment...';
            modalBody.appendChild(commentInput);

            const submitButton = document.createElement('button');
            submitButton.className = 'btn btn-primary mb-3';
            submitButton.textContent = 'Post Comment';
            modalBody.appendChild(submitButton);

            const commentList = document.createElement('ul');
            commentList.className = 'list-unstyled';
            modalBody.appendChild(commentList);

            submitButton.addEventListener('click', function() {
                addComment(activity.id, commentInput.value);
                commentInput.value = '';
            });

            return modal;
        }

        function addComment(activityId, commentText) {
            const commentList = document.querySelector(`#commentModal${activityId} .list-unstyled`);
            
            const commentElement = document.createElement('li');
            
            const userStrong = document.createElement('strong');
            userStrong.textContent = 'User:';
            
            const commentContent = document.createTextNode(` ${commentText}`);
            
            commentElement.appendChild(userStrong);
            commentElement.appendChild(commentContent);
            
            commentList.appendChild(commentElement);
        }

        // Create activity cards and modals
        activities.forEach(activity => {
            activityFeed.appendChild(createActivityCard(activity));
            document.body.appendChild(createCommentModal(activity));
        });
    </script>
    
     <!-- Footer Section -->
     <footer class="bg-light text-center text-lg-start mt-5">
        <div class="container p-4">
            <!-- Grid row -->
            <div class="row align-items-center">
                <!-- Column 1: Brand Name -->
                <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
                    <h5 class="text-uppercase fw-bold">MapPalette</h5>
                </div>

                <!-- Column 2: Contact Information -->
                <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
                    <h6 class="fw-bold">Contact us</h6>
                    <p class="mb-1">mappalette@gmail.com</p>
                    <p class="mb-1">+65-687654321</p>
                    <p>81 Victoria St, Singapore 188065</p>
                </div>

                <!-- Column 3: Social Media Icons -->
                <div class="col-lg-4 col-md-12 text-md-end">
                    <a href="#" class="me-3 text-dark"><img
                            src="https://img.icons8.com/ios-filled/24/000000/facebook-new.png" alt="Facebook" /></a>
                    <a href="#" class="me-3 text-dark"><img
                            src="https://img.icons8.com/ios-filled/24/000000/linkedin.png" alt="LinkedIn" /></a>
                    <a href="#" class="me-3 text-dark"><img
                            src="https://img.icons8.com/ios-filled/24/000000/twitter.png" alt="Twitter" /></a>
                    <a href="#" class="text-dark"><img
                            src="https://img.icons8.com/ios-filled/24/000000/instagram-new.png" alt="Instagram" /></a>
                </div>
            </div>
            <!-- Grid row -->

            <hr class="my-4">

            <!-- Copyright -->
            <div class="text-center">
                <p class="mb-0">&copy; 2024. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>